{"failedCount":1,"prefixedPath":"src\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature","packageQualifiedName":"src.test.java.executables.coupons.0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow","loopIndex":-1,"relativePath":"src\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1742432,"millis":1.742432,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:27:59.896 Environment value is==========> eat \n"},{"result":{"nanos":94903730,"millis":94.90373,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"call read('support.feature@common_functions')"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/executables\/coupons\/support.feature","packageQualifiedName":"src.test.java.executables.coupons.support","loopIndex":-1,"relativePath":"src\/test\/java\/executables\/coupons\/support.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":354726,"millis":0.354726,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":516333,"millis":0.516333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def apiComponents = envConfig"}},{"result":{"nanos":8014767,"millis":8.014767,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":30052576,"millis":30.052576,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":1593743,"millis":1.593743,"status":"passed"},"step":{"endLine":30,"line":12,"prefix":"*","docString":"function(){\nvar info = karate.info;\nkarate.log(info);\nif(info.errorMessage){\n   for (var i = 0; i = 0; i++) {\n      try {\n        karate.call(info.featureFileName);\n        karate.log('*** RETRY SUCCESS *****')\n        return;\n      } catch (e) {\n        karate.log('*** RETRY FAILED ***', i, e);\n      }\n    }\n    karate.fail('test failed after retries: ' + i);\n }\n}","index":0,"text":"configure afterScenario ="}},{"result":{"nanos":1009841,"millis":1.009841,"status":"passed"},"step":{"endLine":41,"line":32,"prefix":"*","docString":"function(testDate){\n\/\/        var date_regex = \/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9]+$\/;\n\/\/        if (!(date_regex.test(testDate))) {\nif (!(testDate)){\nreturn true;\n}return true;\n}","index":1,"text":"def isValidDate ="}},{"result":{"nanos":848737,"millis":0.848737,"status":"passed"},"step":{"endLine":48,"line":43,"prefix":"*","docString":"function() {\n  return java.lang.System.currentTimeMillis()\n}","index":2,"text":"def now ="}}],"line":11,"description":"","durationMillis":42.390723,"failed":false,"tags":["common_functions","ignore"],"executorName":"main","name":"common function.","startTime":1643392679972,"refId":"[1:11]","endTime":1643392680015,"exampleIndex":-1}],"callDepth":1,"name":"All supporting scenarios","description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":42.390723,"passedCount":1}]},{"result":{"nanos":450798,"millis":0.450798,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def apiComponents = envConfig"}},{"result":{"nanos":199014,"millis":0.199014,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaAndValidation = envSchema"}},{"result":{"nanos":425908,"millis":0.425908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":797462,"millis":0.797462,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":531833,"millis":0.531833,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":494853,"millis":0.494853,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"header x-client-type = \"mpos\""}},{"result":{"nanos":545588,"millis":0.545588,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"def redeem_flags = \"false\""}},{"result":{"nanos":233366,"millis":0.233366,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def headerJson = {}"}},{"result":{"nanos":1719469,"millis":1.719469,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set headerJson.multi_redeem-enabled = redeem_flags"}},{"result":{"nanos":515075,"millis":0.515075,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set headerJson.Content-Type = 'application\/json'"}},{"result":{"nanos":750261,"millis":0.750261,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set headerJson.x-client-type = 'mpos'"}},{"result":{"nanos":635522,"millis":0.635522,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"def masid = apiComponents['CMS_masid']"}},{"result":{"nanos":2009403679,"millis":2009.403679,"status":"passed"},"step":{"comments":["# redemption count"],"background":true,"line":19,"prefix":"*","index":14,"text":"def redeem_quantity_811143212221 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":2330034886,"millis":2330.034886,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":15,"text":"def redeem_quantity_811143212223 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":2573293529,"millis":2573.293529,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":16,"text":"def redeem_quantity_811143212222 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":1381405163,"millis":1381.405163,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":17,"text":"def redeem_count_811143212221 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\'))\")"}},{"result":{"nanos":1245566292,"millis":1245.566292,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":18,"text":"def redeem_count_811143212223 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\'))\")"}},{"result":{"nanos":1224765511,"millis":1224.765511,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":19,"text":"def redeem_count_811143212222 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\'))\")"}},{"result":{"nanos":653574,"millis":0.653574,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":20,"text":"def sku_price = apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].price"}},{"result":{"nanos":473252,"millis":0.473252,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":21,"text":"def bill_amount = apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption__0036\"].billAmount"}},{"result":{"nanos":4466825362,"millis":4466.825362,"status":"passed"},"step":{"background":true,"line":28,"prefix":"*","index":22,"text":"def result = callonce read(\"B2C_B2B_CouponCodeGeneration.feature@B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption\") {requestHeader: #(headerJson) , skuPrice: #(sku_price), billAmount: #(bill_amount)}"},"stepLog":"23:28:15.264 << lock released, cached callonce: read(\"B2C_B2B_CouponCodeGeneration.feature@B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption\") {requestHeader: #(headerJson) , skuPrice: #(sku_price), billAmount: #(bill_amount)}\n","callResults":[{"prefixedPath":"src\/test\/java\/executables\/coupons\/B2C_B2B_CouponCodeGeneration.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":4428.212965,"callArg":{"requestHeader":{"multi_redeem-enabled":"false","Content-Type":"application\/json","x-client-type":"mpos"},"skuPrice":11.4,"billAmount":5000},"failedCount":0,"packageQualifiedName":"src.test.java.executables.coupons.B2C_B2B_CouponCodeGeneration","relativePath":"src\/test\/java\/executables\/coupons\/B2C_B2B_CouponCodeGeneration.feature","scenarioResults":[{"sectionIndex":71,"stepResults":[{"result":{"nanos":94806,"millis":0.094806,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:28:10.815 >> lock acquired, begin callonce: read(\"B2C_B2B_CouponCodeGeneration.feature@B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption\") {requestHeader: #(headerJson) , skuPrice: #(sku_price), billAmount: #(bill_amount)}\n"},{"result":{"nanos":18839914,"millis":18.839914,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"call read('support.feature@common_functions')"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/executables\/coupons\/support.feature","packageQualifiedName":"src.test.java.executables.coupons.support","loopIndex":-1,"relativePath":"src\/test\/java\/executables\/coupons\/support.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":74906,"millis":0.074906,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":116193,"millis":0.116193,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def apiComponents = envConfig"}},{"result":{"nanos":680269,"millis":0.680269,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":1158684,"millis":1.158684,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":1297307,"millis":1.297307,"status":"passed"},"step":{"endLine":30,"line":12,"prefix":"*","docString":"function(){\nvar info = karate.info;\nkarate.log(info);\nif(info.errorMessage){\n   for (var i = 0; i = 0; i++) {\n      try {\n        karate.call(info.featureFileName);\n        karate.log('*** RETRY SUCCESS *****')\n        return;\n      } catch (e) {\n        karate.log('*** RETRY FAILED ***', i, e);\n      }\n    }\n    karate.fail('test failed after retries: ' + i);\n }\n}","index":0,"text":"configure afterScenario ="}},{"result":{"nanos":211759,"millis":0.211759,"status":"passed"},"step":{"endLine":41,"line":32,"prefix":"*","docString":"function(testDate){\n\/\/        var date_regex = \/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9]+$\/;\n\/\/        if (!(date_regex.test(testDate))) {\nif (!(testDate)){\nreturn true;\n}return true;\n}","index":1,"text":"def isValidDate ="}},{"result":{"nanos":139924,"millis":0.139924,"status":"passed"},"step":{"endLine":48,"line":43,"prefix":"*","docString":"function() {\n  return java.lang.System.currentTimeMillis()\n}","index":2,"text":"def now ="}}],"line":11,"description":"","durationMillis":3.679042,"failed":false,"tags":["common_functions","ignore"],"executorName":"main","name":"common function.","startTime":1643392690842,"refId":"[1:11]","endTime":1643392690846,"exampleIndex":-1}],"callDepth":2,"name":"All supporting scenarios","description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":3.679042,"passedCount":1}]},{"result":{"nanos":307261,"millis":0.307261,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def apiComponents = envConfig"}},{"result":{"nanos":362835,"millis":0.362835,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":4125103148,"millis":4125.103148,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def call_configuration_table = callonce read('support.feature@switch_on_features')"},"stepLog":"23:28:14.975 << lock released, cached callonce: read('support.feature@switch_on_features')\n","callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/executables\/coupons\/support.feature","packageQualifiedName":"src.test.java.executables.coupons.support","loopIndex":-1,"relativePath":"src\/test\/java\/executables\/coupons\/support.feature","scenarioResults":[{"sectionIndex":19,"stepResults":[{"result":{"nanos":132813,"millis":0.132813,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:28:10.854 >> lock acquired, begin callonce: read('support.feature@switch_on_features')\n"},{"result":{"nanos":121507,"millis":0.121507,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def apiComponents = envConfig"}},{"result":{"nanos":319341,"millis":0.319341,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":477151,"millis":0.477151,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":1991433373,"millis":1991.433373,"status":"passed"},"step":{"line":212,"prefix":"*","index":0,"text":"def enable_promotion = db.updateRow(\"UPDATE CONFIGURATION SET CONFIG_VALUE = \\'true\\' WHERE CONFIG_NAME = \\'promotion.enabled\\'\")"}},{"result":{"nanos":1366600817,"millis":1366.600817,"status":"passed"},"step":{"line":213,"prefix":"*","index":1,"text":"def enable_voucher = db.updateRow(\"UPDATE CONFIGURATION SET CONFIG_VALUE = \\'true\\' WHERE CONFIG_NAME = \\'voucher.enabled\\'\")"}},{"result":{"nanos":749815514,"millis":749.815514,"status":"passed"},"step":{"line":214,"prefix":"*","index":2,"text":"def enable_prompter = db.updateRow(\"UPDATE CONFIGURATION SET CONFIG_VALUE = \\'true\\' WHERE CONFIG_NAME = \\'prompter.enabled\\'\")"}}],"line":211,"description":"","durationMillis":4108.900516,"failed":false,"tags":["switch_on_features","ignore"],"executorName":"main","name":"switching on the features from configuration table.","startTime":1643392690862,"refId":"[20:211]","endTime":1643392694972,"exampleIndex":-1}],"callDepth":2,"name":"All supporting scenarios","description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":4108.900516,"passedCount":1}]},{"result":{"nanos":522254,"millis":0.522254,"status":"passed"},"step":{"line":968,"prefix":"*","index":0,"text":"def body = apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption__0036\"]"}},{"result":{"nanos":568247,"millis":0.568247,"status":"passed"},"step":{"line":969,"prefix":"*","index":1,"text":"set body.skuData[*].skuPrice = skuPrice"}},{"result":{"nanos":160588,"millis":0.160588,"status":"passed"},"step":{"line":970,"prefix":"*","index":2,"text":"set body.billAmount = billAmount"}},{"result":{"nanos":497702,"millis":0.497702,"status":"passed"},"step":{"line":971,"prefix":"*","index":3,"text":"set body.masId = apiComponents['CMS_masid']"}},{"result":{"nanos":246016,"millis":0.246016,"status":"passed"},"step":{"line":972,"prefix":"Given","index":4,"text":"path '\/coupons\/v1\/coupons\/merchant\/fc\/coupon-codes'"}},{"result":{"nanos":544470,"millis":0.54447,"status":"passed"},"step":{"line":973,"prefix":"And","index":5,"text":"headers requestHeader"}},{"result":{"nanos":46038,"millis":0.046038,"status":"passed"},"step":{"line":974,"prefix":"And","index":6,"text":"request body"}},{"result":{"nanos":280906974,"millis":280.906974,"status":"passed"},"step":{"line":975,"prefix":"When","index":7,"text":"method post"},"stepLog":"23:28:15.082 request:\n1 > POST http:\/\/10.159.20.62:9000\/coupons\/v1\/coupons\/merchant\/fc\/coupon-codes\n1 > Content-Type: application\/json; charset=UTF-8\n1 > multi_redeem-enabled: false\n1 > x-client-type: mpos\n1 > Content-Length: 267\n1 > Host: 10.159.20.62:9000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_261)\n1 > Accept-Encoding: gzip,deflate\n{\"masId\":\"100001000071385\",\"billAmount\":5000,\"skuData\":[{\"skuId\":\"811143212221\",\"articleId\":\"lol\",\"skuQty\":2,\"skuPrice\":11.4},{\"skuId\":\"811143212222\",\"articleId\":\"lol\",\"skuQty\":2,\"skuPrice\":11.4},{\"skuId\":\"811143212223\",\"articleId\":\"lol\",\"skuQty\":9,\"skuPrice\":11.4}]}\n\n23:28:15.258 response time in milliseconds: 174\n1 < 200\n1 < Vary: Origin\n1 < Date: Fri, 28 Jan 2022 17:58:15 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 2090\n{\"skuCoupons\":[{\"skuId\":\"811143212223\",\"quantity\":9,\"price\":11.4,\"coupons\":[{\"couponId\":0,\"discount\":3.0,\"couponCode\":\"KZBUGQTY\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":3,\"couponQty\":0,\"priority\":2,\"campaignType\":0},{\"couponId\":0,\"discount\":3.0,\"couponCode\":\"BR5QOFNP\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":3,\"couponQty\":0,\"priority\":1,\"campaignType\":0},{\"couponId\":0,\"discount\":3.0,\"couponCode\":\"37AXDJAG\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":3,\"couponQty\":0,\"priority\":0,\"campaignType\":0}]},{\"skuId\":\"811143212221\",\"quantity\":2,\"price\":11.4,\"coupons\":[{\"couponId\":0,\"discount\":2.1,\"couponCode\":\"MT2SM3PA\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":2,\"couponQty\":0,\"priority\":0,\"campaignType\":0}]},{\"skuId\":\"811143212222\",\"quantity\":2,\"price\":11.4,\"coupons\":[{\"couponId\":0,\"discount\":1.1,\"couponCode\":\"WN9VPI4N\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":1,\"couponQty\":0,\"priority\":1,\"campaignType\":0},{\"couponId\":0,\"discount\":1.1,\"couponCode\":\"LNHS2BE9\",\"discountType\":\"FLAT_DISCOUNT_ON_SKU\",\"quantity\":1,\"couponQty\":0,\"priority\":0,\"campaignType\":0}]}],\"billCoupons\":[],\"promotionsApplied\":[],\"promotionMetaData\":{},\"billVouchers\":[{\"voucherCode\":\"VoucherCode162e396\",\"voucherTitle\":\"Automation vouchers Never delete 4\",\"redeemCode\":\"UOUDICEH\",\"discount\":323.1}],\"cartOffersApplied\":null,\"voucherRedemption\":[],\"prompter\":[{\"skuId\":\"811143212221\",\"skuPrice\":11.4,\"couponId\":167675,\"couponTitle\":\"B2B_flat_discount_1_never_delete\",\"b2BDiscountType\":\"FLAT_DISCOUNT_ON_SKU\",\"discountValue\":2.1,\"requiredQuantity\":2,\"quantityToAdd\":2,\"remainingRedeemCount\":99999522},{\"skuId\":\"811143212222\",\"skuPrice\":11.4,\"couponId\":167676,\"couponTitle\":\"B2B_flat_discount_2_never_delete\",\"b2BDiscountType\":\"FLAT_DISCOUNT_ON_SKU\",\"discountValue\":1.1,\"requiredQuantity\":1,\"quantityToAdd\":1,\"remainingRedeemCount\":99998555},{\"skuId\":\"811143212223\",\"skuPrice\":11.4,\"couponId\":167677,\"couponTitle\":\"B2B_flat_discount_3_never_delete\",\"b2BDiscountType\":\"FLAT_DISCOUNT_ON_SKU\",\"discountValue\":3.0,\"requiredQuantity\":3,\"quantityToAdd\":3,\"remainingRedeemCount\":99998151}]}\n"},{"result":{"nanos":12712,"millis":0.012712,"status":"passed"},"step":{"line":976,"prefix":"Then","index":8,"text":"status 200"}}],"line":967,"description":"","durationMillis":4428.212965,"failed":false,"tags":["ignore","B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption"],"executorName":"main","name":"Perform B2B_FLAT_DISCOUNT_ON_SKU cart redemption__0036","startTime":1643392690830,"refId":"[72:967]","endTime":1643392695259,"exampleIndex":-1}],"name":"Generate B2B and B2C coupon codes.","passedCount":1}]},{"result":{"nanos":329018,"millis":0.329018,"status":"passed"},"step":{"background":true,"line":30,"prefix":"*","index":23,"text":"def skuID = get result.response.skuCoupons[*].skuId"}},{"result":{"nanos":24973027,"millis":24.973027,"status":"passed"},"step":{"background":true,"line":31,"prefix":"*","index":24,"text":"def skuID_index_811143212221 = skuID.indexOf(\"811143212221\")"}},{"result":{"nanos":998808,"millis":0.998808,"status":"passed"},"step":{"background":true,"line":32,"prefix":"*","index":25,"text":"def skuID_index_811143212222 = skuID.indexOf(\"811143212222\")"}},{"result":{"nanos":639058,"millis":0.639058,"status":"passed"},"step":{"background":true,"line":33,"prefix":"*","index":26,"text":"def skuID_index_811143212223 = skuID.indexOf(\"811143212223\")"}},{"result":{"nanos":9781671,"millis":9.781671,"status":"passed"},"step":{"background":true,"line":35,"prefix":"*","index":27,"text":"match each result.response.skuCoupons[*].coupons[0].couponQty == apiComponents.B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036.couponQty"}},{"result":{"nanos":1059968,"millis":1.059968,"status":"passed"},"step":{"background":true,"line":37,"prefix":"*","index":28,"text":"def couponCode1 = result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":691910,"millis":0.69191,"status":"passed"},"step":{"background":true,"line":38,"prefix":"*","index":29,"text":"def couponCode2 = result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":680416,"millis":0.680416,"status":"passed"},"step":{"background":true,"line":39,"prefix":"*","index":30,"text":"def couponCode3 = result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1][\"couponCode\"]"}},{"result":{"nanos":924205,"millis":0.924205,"status":"passed"},"step":{"background":true,"line":40,"prefix":"*","index":31,"text":"def couponCode4 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":723081,"millis":0.723081,"status":"passed"},"step":{"background":true,"line":41,"prefix":"*","index":32,"text":"def couponCode5 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1][\"couponCode\"]"}},{"result":{"nanos":682946,"millis":0.682946,"status":"passed"},"step":{"background":true,"line":42,"prefix":"*","index":33,"text":"def couponCode6 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2][\"couponCode\"]"}},{"result":{"nanos":914039,"millis":0.914039,"status":"passed"},"step":{"background":true,"line":44,"prefix":"*","index":34,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":818940,"millis":0.81894,"status":"passed"},"step":{"background":true,"line":45,"prefix":"*","index":35,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":862812,"millis":0.862812,"status":"passed"},"step":{"background":true,"line":46,"prefix":"*","index":36,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":720557,"millis":0.720557,"status":"passed"},"step":{"background":true,"line":47,"prefix":"*","index":37,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":949642,"millis":0.949642,"status":"passed"},"step":{"background":true,"line":48,"prefix":"*","index":38,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":692101,"millis":0.692101,"status":"passed"},"step":{"background":true,"line":49,"prefix":"*","index":39,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":632436,"millis":0.632436,"status":"passed"},"step":{"background":true,"line":51,"prefix":"*","index":40,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212221"}},{"result":{"nanos":680155,"millis":0.680155,"status":"passed"},"step":{"background":true,"line":52,"prefix":"*","index":41,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212222"}},{"result":{"nanos":593022,"millis":0.593022,"status":"passed"},"step":{"background":true,"line":53,"prefix":"*","index":42,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212223"}},{"result":{"nanos":678740,"millis":0.67874,"status":"passed"},"step":{"background":true,"line":55,"prefix":"*","index":43,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212221"}},{"result":{"nanos":608262,"millis":0.608262,"status":"passed"},"step":{"background":true,"line":56,"prefix":"*","index":44,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212222"}},{"result":{"nanos":629760,"millis":0.62976,"status":"passed"},"step":{"background":true,"line":57,"prefix":"*","index":45,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212222"}},{"result":{"nanos":655825,"millis":0.655825,"status":"passed"},"step":{"background":true,"line":58,"prefix":"*","index":46,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":609889,"millis":0.609889,"status":"passed"},"step":{"background":true,"line":59,"prefix":"*","index":47,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":636959,"millis":0.636959,"status":"passed"},"step":{"background":true,"line":60,"prefix":"*","index":48,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":1018962,"millis":1.018962,"status":"passed"},"step":{"background":true,"line":62,"prefix":"*","index":49,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"price\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].price"}},{"result":{"nanos":559466,"millis":0.559466,"status":"passed"},"step":{"endLine":67,"background":true,"line":64,"prefix":"*","docString":"function(){ return java.lang.System.currentTimeMillis() }","index":50,"text":"def transactionID ="}},{"result":{"nanos":7468150,"millis":7.46815,"status":"passed"},"step":{"background":true,"line":68,"prefix":"*","index":51,"text":"def transaction_id = callonce transactionID"},"stepLog":"23:28:15.320 >> lock acquired, begin callonce: transactionID\n23:28:15.327 << lock released, cached callonce: transactionID\n"},{"result":{"nanos":3391459810,"millis":3391.45981,"status":"passed"},"step":{"line":73,"prefix":"*","index":0,"text":"def coupon_code_status = db.readRows(\"SELECT * FROM FC_MERCHANT_COUPONS WHERE MERCHANT_COUPON_CODE IN (\\'\" +couponCode1+ \"\\',\\'\" +couponCode2+ \"\\',\\'\" +couponCode3+ \"\\',\\'\" +couponCode4+ \"\\',\\'\" +couponCode5+ \"\\',\\'\" +couponCode6+ \"\\')\")"}},{"result":{"nanos":2837043,"millis":2.837043,"status":"passed"},"step":{"line":74,"prefix":"*","index":1,"text":"print coupon_code_status"},"stepLog":"23:28:18.721 [print] [\n  {\n    \"ID\": 1555780,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_3_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"37AXDJAG\",\n    \"DISCOUNT_AMOUNT\": 3,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167677,\n    \"CONDITIONAL_COUPON\": null,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 500,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  },\n  {\n    \"ID\": 1555779,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_3_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"BR5QOFNP\",\n    \"DISCOUNT_AMOUNT\": 3,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167677,\n    \"CONDITIONAL_COUPON\": null,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 500,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  },\n  {\n    \"ID\": 1555784,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_3_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"KZBUGQTY\",\n    \"DISCOUNT_AMOUNT\": 3,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167677,\n    \"CONDITIONAL_COUPON\": null,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 500,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  },\n  {\n    \"ID\": 1555782,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_2_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"LNHS2BE9\",\n    \"DISCOUNT_AMOUNT\": 1.1,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167676,\n    \"CONDITIONAL_COUPON\": null,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 400.5,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  },\n  {\n    \"ID\": 1555781,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_1_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"MT2SM3PA\",\n    \"DISCOUNT_AMOUNT\": 2.1,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167675,\n    \"CONDITIONAL_COUPON\": 168280,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 450,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  },\n  {\n    \"ID\": 1555783,\n    \"COUPON\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_2_never_delete\",\n    \"MASID\": \"100001000071385\",\n    \"CUSTOMER_COUPON_CODE\": null,\n    \"MERCHANT_COUPON_CODE\": \"WN9VPI4N\",\n    \"DISCOUNT_AMOUNT\": 1.1,\n    \"STATUS\": \"hold\",\n    \"TRANSACTION_ID\": \"0\",\n    \"CREATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CHECKOUT_TS\": null,\n    \"VERIFY_TS\": null,\n    \"REDEEM_TS\": null,\n    \"UPDATE_TS\": \"2022-01-28 23:28:15.264677\",\n    \"CANCEL_TS\": null,\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"DELIVERED_TS\": null,\n    \"CAMPAIGN_TYPE\": 0,\n    \"B2B_COUPON_ID\": 167676,\n    \"CONDITIONAL_COUPON\": null,\n    \"DISPLAY_NAME_ID\": 1,\n    \"CATEGORY_ID\": 2,\n    \"SUB_CATEGORY_ID\": 3,\n    \"CAMPAIGN_ID\": 1,\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 400.5,\n    \"HOLD_TS\": \"2022-01-28 23:28:15.267637\"\n  }\n]\n \n"},{"result":{"nanos":4265376686,"millis":4265.376686,"status":"passed"},"step":{"line":75,"prefix":"*","index":2,"text":"def b2b_coupons = db.readRows(\"SELECT * FROM B2B_COUPON WHERE ID IN (\\'\" +coupon_code_status[0][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[1][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[2][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[3][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[4][\"B2B_COUPON_ID\"]+ \"\\')\")"}},{"result":{"nanos":1982518,"millis":1.982518,"status":"passed"},"step":{"line":76,"prefix":"*","index":3,"text":"print b2b_coupons"},"stepLog":"23:28:22.989 [print] [\n  {\n    \"ID\": 167675,\n    \"B2C_COUPON_ID\": null,\n    \"CAMPAIGN_ID\": 1,\n    \"CAMPAIGN_TYPE\": 4,\n    \"CONDITIONAL_COUPON_ID\": 185,\n    \"COUPON_TITLE\": \"B2B_flat_discount_1_never_delete\",\n    \"CREATE_TS\": \"2021-09-02 16:35:19.121361\",\n    \"DERIVED_FROM\": null,\n    \"DISCOUNT_AMOUNT\": 5.1,\n    \"MASID\": null,\n    \"MERCHANT_GROUP\": 581,\n    \"MERCHANT_REDEEM_CAP\": 100000000,\n    \"QUANTITY\": 2,\n    \"REDEEM_COUNT\": 479,\n    \"SKU_ID\": \"811143212221\",\n    \"SKU_NAME\": \"Crack Jack Biscuits 1\",\n    \"STATUS\": 0,\n    \"TOTAL_REDEEM_CAP\": 100000000,\n    \"UPDATE_TS\": \"2021-12-06 16:40:01.960191\",\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"VENDOR_FUNDING\": \"No\",\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 450,\n    \"BILL_CONDITION\": null\n  },\n  {\n    \"ID\": 167676,\n    \"B2C_COUPON_ID\": null,\n    \"CAMPAIGN_ID\": 1,\n    \"CAMPAIGN_TYPE\": 4,\n    \"CONDITIONAL_COUPON_ID\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_2_never_delete\",\n    \"CREATE_TS\": \"2021-09-02 16:35:19.121361\",\n    \"DERIVED_FROM\": null,\n    \"DISCOUNT_AMOUNT\": 1.1,\n    \"MASID\": null,\n    \"MERCHANT_GROUP\": 581,\n    \"MERCHANT_REDEEM_CAP\": 100000000,\n    \"QUANTITY\": 1,\n    \"REDEEM_COUNT\": 1447,\n    \"SKU_ID\": \"811143212222\",\n    \"SKU_NAME\": \"Crack Jack Biscuits 2\",\n    \"STATUS\": 0,\n    \"TOTAL_REDEEM_CAP\": 100000000,\n    \"UPDATE_TS\": \"2021-12-06 16:40:01.960191\",\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"VENDOR_FUNDING\": \"No\",\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 400.5,\n    \"BILL_CONDITION\": null\n  },\n  {\n    \"ID\": 167677,\n    \"B2C_COUPON_ID\": null,\n    \"CAMPAIGN_ID\": 1,\n    \"CAMPAIGN_TYPE\": 4,\n    \"CONDITIONAL_COUPON_ID\": null,\n    \"COUPON_TITLE\": \"B2B_flat_discount_3_never_delete\",\n    \"CREATE_TS\": \"2021-09-02 16:35:19.121361\",\n    \"DERIVED_FROM\": null,\n    \"DISCOUNT_AMOUNT\": 3,\n    \"MASID\": null,\n    \"MERCHANT_GROUP\": 581,\n    \"MERCHANT_REDEEM_CAP\": 100000000,\n    \"QUANTITY\": 3,\n    \"REDEEM_COUNT\": 1852,\n    \"SKU_ID\": \"811143212223\",\n    \"SKU_NAME\": \"Crack Jack Biscuits 3\",\n    \"STATUS\": 0,\n    \"TOTAL_REDEEM_CAP\": 100000000,\n    \"UPDATE_TS\": \"2021-12-08 13:21:31.817789\",\n    \"VALID_FROM\": \"2020-05-13 00:00:00.0\",\n    \"VALID_TO\": \"2029-12-11 00:00:00.0\",\n    \"VENDOR_FUNDING\": \"No\",\n    \"VENDOR_CONTRIBUTION\": 0,\n    \"MINIMUM_BILL_VALUE\": 500,\n    \"BILL_CONDITION\": null\n  }\n]\n \n"},{"result":{"nanos":4092546842,"millis":4092.546842,"status":"passed"},"step":{"line":77,"prefix":"*","index":4,"text":"def b2b_coupon_redemption = db.readRows(\"SELECT * FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (\\'\" +coupon_code_status[0][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[1][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[2][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[3][\"B2B_COUPON_ID\"]+ \"\\',\\'\" +coupon_code_status[4][\"B2B_COUPON_ID\"]+ \"\\')\")"}},{"result":{"nanos":1854653,"millis":1.854653,"status":"passed"},"step":{"line":78,"prefix":"*","index":5,"text":"print b2b_coupon_redemption"},"stepLog":"23:28:27.083 [print] [\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000063788\",\n    \"QUANTITY\": 2\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000070211\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000063788\",\n    \"QUANTITY\": 1\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000063788\",\n    \"QUANTITY\": 3\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000217520\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000217520\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000217520\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000071385\",\n    \"QUANTITY\": 452\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000071385\",\n    \"QUANTITY\": 1408\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000071385\",\n    \"QUANTITY\": 1794\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000071386\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000063836\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000063836\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000063836\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000071386\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000071386\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000070644\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000070644\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000070644\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167675,\n    \"MASID\": \"100001000072974\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167676,\n    \"MASID\": \"100001000072974\",\n    \"QUANTITY\": 0\n  },\n  {\n    \"B2B_COUPON_ID\": 167677,\n    \"MASID\": \"100001000072974\",\n    \"QUANTITY\": 0\n  }\n]\n \n"},{"result":{"nanos":873340,"millis":0.87334,"status":"passed"},"step":{"line":79,"prefix":"*","index":6,"text":"def schema = schemaAndValidation[\"hold_FC_merchant_coupon\"]"}},{"result":{"nanos":27075064,"millis":27.075064,"status":"passed"},"step":{"line":80,"prefix":"*","index":7,"text":"match each coupon_code_status == schema"}},{"result":{"nanos":1460414793,"millis":1460.414793,"status":"passed"},"step":{"line":82,"prefix":"*","index":8,"text":"def redeem_quantity_811143212221_c = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":1358533497,"millis":1358.533497,"status":"passed"},"step":{"line":83,"prefix":"*","index":9,"text":"def redeem_quantity_811143212223_c = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":1320991649,"millis":1320.991649,"status":"passed"},"step":{"line":84,"prefix":"*","index":10,"text":"def redeem_quantity_811143212222_c = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":2455500251,"millis":2455.500251,"status":"passed"},"step":{"line":85,"prefix":"*","index":11,"text":"def redeem_count_811143212221_c = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\'))\")"}},{"result":{"nanos":2641430191,"millis":2641.430191,"status":"passed"},"step":{"line":86,"prefix":"*","index":12,"text":"def redeem_count_811143212223_c = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\'))\")"}},{"result":{"nanos":2075387694,"millis":2075.387694,"status":"passed"},"step":{"line":87,"prefix":"*","index":13,"text":"def redeem_count_811143212222_c = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\'))\")"}},{"result":{"nanos":10406705,"errorMessage":"match failed: EQUALS\n  $ | not equal (NUMBER:NUMBER)\n  452\n  451\n\nsrc\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature:90","millis":10.406705,"status":"failed"},"step":{"comments":["# redemption count"],"line":90,"prefix":"*","index":14,"text":"match parseInt(redeem_quantity_811143212221_c[0].QUANTITY) == parseInt(redeem_quantity_811143212221[0].QUANTITY + 1)"},"stepLog":"23:28:38.435 src\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature:90\n* match parseInt(redeem_quantity_811143212221_c[0].QUANTITY) == parseInt(redeem_quantity_811143212221[0].QUANTITY + 1)\nmatch failed: EQUALS\n  $ | not equal (NUMBER:NUMBER)\n  452\n  451\n\nsrc\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature:90\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":91,"prefix":"*","index":15,"text":"match parseInt(redeem_quantity_811143212223_c[0].QUANTITY) == parseInt(redeem_quantity_811143212223[0].QUANTITY + 3)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":92,"prefix":"*","index":16,"text":"match parseInt(redeem_quantity_811143212222_c[0].QUANTITY) == parseInt(redeem_quantity_811143212222[0].QUANTITY + 2)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"*","index":17,"text":"match parseInt(redeem_count_811143212221_c[0].REDEEM_COUNT) == parseInt(redeem_count_811143212221[0].REDEEM_COUNT + 1)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"*","index":18,"text":"match parseInt(redeem_count_811143212223_c[0].REDEEM_COUNT) == parseInt(redeem_count_811143212223[0].REDEEM_COUNT + 3)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"*","index":19,"text":"match parseInt(redeem_count_811143212222_c[0].REDEEM_COUNT) == parseInt(redeem_count_811143212222[0].REDEEM_COUNT + 2)"},"stepLog":"23:28:38.436 {\n  \"errorMessage\": \"match failed: EQUALS\\n  $ | not equal (NUMBER:NUMBER)\\n  452\\n  451\\n\\nsrc\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature:90\",\n  \"featureDir\": \"\/Users\/rahul8.ranjan\/Documents\/cms-api-integration-test\/src\/test\/java\/executables\/coupons\",\n  \"scenarioDescription\": \"\",\n  \"scenarioName\": \"B2B_FLAT_DISCOUNT_ON_SKU checkout Mark Redemption Flow __0036.\",\n  \"featureFileName\": \"0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature\"\n}\n \n"}],"line":71,"description":"","durationMillis":38504.25112,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (NUMBER:NUMBER)\n  452\n  451\n\nsrc\/test\/java\/executables\/coupons\/0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature:90","executorName":"main","name":"B2B_FLAT_DISCOUNT_ON_SKU checkout Mark Redemption Flow __0036.","startTime":1643392679343,"refId":"[1:71]","endTime":1643392718435,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":77369,"millis":0.077369,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:28:38.478 Environment value is==========> eat \n"},{"result":{"nanos":15299291,"millis":15.299291,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"call read('support.feature@common_functions')"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/executables\/coupons\/support.feature","packageQualifiedName":"src.test.java.executables.coupons.support","loopIndex":-1,"relativePath":"src\/test\/java\/executables\/coupons\/support.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":76367,"millis":0.076367,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":90392,"millis":0.090392,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def apiComponents = envConfig"}},{"result":{"nanos":262699,"millis":0.262699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":416775,"millis":0.416775,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":90686,"millis":0.090686,"status":"passed"},"step":{"endLine":30,"line":12,"prefix":"*","docString":"function(){\nvar info = karate.info;\nkarate.log(info);\nif(info.errorMessage){\n   for (var i = 0; i = 0; i++) {\n      try {\n        karate.call(info.featureFileName);\n        karate.log('*** RETRY SUCCESS *****')\n        return;\n      } catch (e) {\n        karate.log('*** RETRY FAILED ***', i, e);\n      }\n    }\n    karate.fail('test failed after retries: ' + i);\n }\n}","index":0,"text":"configure afterScenario ="}},{"result":{"nanos":217014,"millis":0.217014,"status":"passed"},"step":{"endLine":41,"line":32,"prefix":"*","docString":"function(testDate){\n\/\/        var date_regex = \/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]) (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9]+$\/;\n\/\/        if (!(date_regex.test(testDate))) {\nif (!(testDate)){\nreturn true;\n}return true;\n}","index":1,"text":"def isValidDate ="}},{"result":{"nanos":121256,"millis":0.121256,"status":"passed"},"step":{"endLine":48,"line":43,"prefix":"*","docString":"function() {\n  return java.lang.System.currentTimeMillis()\n}","index":2,"text":"def now ="}}],"line":11,"description":"","durationMillis":1.275189,"failed":false,"tags":["common_functions","ignore"],"executorName":"main","name":"common function.","startTime":1643392718491,"refId":"[1:11]","endTime":1643392718493,"exampleIndex":-1}],"callDepth":1,"name":"All supporting scenarios","description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":1.275189,"passedCount":1}]},{"result":{"nanos":254593,"millis":0.254593,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def apiComponents = envConfig"}},{"result":{"nanos":66928,"millis":0.066928,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def schemaAndValidation = envSchema"}},{"result":{"nanos":343048,"millis":0.343048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def DBUtils = Java.type('executables.utils.DBUtils')"}},{"result":{"nanos":400213,"millis":0.400213,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def db = new DBUtils(apiComponents['DB_url'], apiComponents['DB_username'], apiComponents['DB_password'])"}},{"result":{"nanos":105215,"millis":0.105215,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":313953,"millis":0.313953,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"header x-client-type = \"mpos\""}},{"result":{"nanos":266531,"millis":0.266531,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"def redeem_flags = \"false\""}},{"result":{"nanos":116368,"millis":0.116368,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def headerJson = {}"}},{"result":{"nanos":223828,"millis":0.223828,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set headerJson.multi_redeem-enabled = redeem_flags"}},{"result":{"nanos":297887,"millis":0.297887,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set headerJson.Content-Type = 'application\/json'"}},{"result":{"nanos":453702,"millis":0.453702,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set headerJson.x-client-type = 'mpos'"}},{"result":{"nanos":195778,"millis":0.195778,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"def masid = apiComponents['CMS_masid']"}},{"result":{"nanos":1615922101,"millis":1615.922101,"status":"passed"},"step":{"comments":["# redemption count"],"background":true,"line":19,"prefix":"*","index":14,"text":"def redeem_quantity_811143212221 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":2554673784,"millis":2554.673784,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":15,"text":"def redeem_quantity_811143212223 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":2590391630,"millis":2590.39163,"status":"passed"},"step":{"background":true,"line":21,"prefix":"*","index":16,"text":"def redeem_quantity_811143212222 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\')) and masid=\\'\" +masid+ \"\\'\")"}},{"result":{"nanos":3410187100,"millis":3410.1871,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":17,"text":"def redeem_count_811143212221 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\'))\")"}},{"result":{"nanos":1254041625,"millis":1254.041625,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":18,"text":"def redeem_count_811143212223 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\'))\")"}},{"result":{"nanos":1703979019,"millis":1703.979019,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":19,"text":"def redeem_count_811143212222 = db.readRows(\"SELECT REDEEM_COUNT FROM B2B_COUPON WHERE ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\'))\")"}},{"result":{"nanos":395958,"millis":0.395958,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":20,"text":"def sku_price = apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].price"}},{"result":{"nanos":253868,"millis":0.253868,"status":"passed"},"step":{"background":true,"line":27,"prefix":"*","index":21,"text":"def bill_amount = apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption__0036\"].billAmount"}},{"result":{"nanos":15186944,"millis":15.186944,"status":"passed"},"step":{"background":true,"line":28,"prefix":"*","index":22,"text":"def result = callonce read(\"B2C_B2B_CouponCodeGeneration.feature@B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption\") {requestHeader: #(headerJson) , skuPrice: #(sku_price), billAmount: #(bill_amount)}"}},{"result":{"nanos":209585,"millis":0.209585,"status":"passed"},"step":{"background":true,"line":30,"prefix":"*","index":23,"text":"def skuID = get result.response.skuCoupons[*].skuId"}},{"result":{"nanos":247948,"millis":0.247948,"status":"passed"},"step":{"background":true,"line":31,"prefix":"*","index":24,"text":"def skuID_index_811143212221 = skuID.indexOf(\"811143212221\")"}},{"result":{"nanos":189648,"millis":0.189648,"status":"passed"},"step":{"background":true,"line":32,"prefix":"*","index":25,"text":"def skuID_index_811143212222 = skuID.indexOf(\"811143212222\")"}},{"result":{"nanos":152720,"millis":0.15272,"status":"passed"},"step":{"background":true,"line":33,"prefix":"*","index":26,"text":"def skuID_index_811143212223 = skuID.indexOf(\"811143212223\")"}},{"result":{"nanos":540337,"millis":0.540337,"status":"passed"},"step":{"background":true,"line":35,"prefix":"*","index":27,"text":"match each result.response.skuCoupons[*].coupons[0].couponQty == apiComponents.B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036.couponQty"}},{"result":{"nanos":190010,"millis":0.19001,"status":"passed"},"step":{"background":true,"line":37,"prefix":"*","index":28,"text":"def couponCode1 = result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":183478,"millis":0.183478,"status":"passed"},"step":{"background":true,"line":38,"prefix":"*","index":29,"text":"def couponCode2 = result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":185811,"millis":0.185811,"status":"passed"},"step":{"background":true,"line":39,"prefix":"*","index":30,"text":"def couponCode3 = result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1][\"couponCode\"]"}},{"result":{"nanos":189559,"millis":0.189559,"status":"passed"},"step":{"background":true,"line":40,"prefix":"*","index":31,"text":"def couponCode4 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0][\"couponCode\"]"}},{"result":{"nanos":187814,"millis":0.187814,"status":"passed"},"step":{"background":true,"line":41,"prefix":"*","index":32,"text":"def couponCode5 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1][\"couponCode\"]"}},{"result":{"nanos":191297,"millis":0.191297,"status":"passed"},"step":{"background":true,"line":42,"prefix":"*","index":33,"text":"def couponCode6 = result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2][\"couponCode\"]"}},{"result":{"nanos":170034,"millis":0.170034,"status":"passed"},"step":{"background":true,"line":44,"prefix":"*","index":34,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":142801,"millis":0.142801,"status":"passed"},"step":{"background":true,"line":45,"prefix":"*","index":35,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":133387,"millis":0.133387,"status":"passed"},"step":{"background":true,"line":46,"prefix":"*","index":36,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":148476,"millis":0.148476,"status":"passed"},"step":{"background":true,"line":47,"prefix":"*","index":37,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":143433,"millis":0.143433,"status":"passed"},"step":{"background":true,"line":48,"prefix":"*","index":38,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":125856,"millis":0.125856,"status":"passed"},"step":{"background":true,"line":49,"prefix":"*","index":39,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2][\"discountType\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discountType"}},{"result":{"nanos":157646,"millis":0.157646,"status":"passed"},"step":{"background":true,"line":51,"prefix":"*","index":40,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212221"}},{"result":{"nanos":125114,"millis":0.125114,"status":"passed"},"step":{"background":true,"line":52,"prefix":"*","index":41,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212222"}},{"result":{"nanos":120235,"millis":0.120235,"status":"passed"},"step":{"background":true,"line":53,"prefix":"*","index":42,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"quantity\"]  == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].quantity_811143212223"}},{"result":{"nanos":166702,"millis":0.166702,"status":"passed"},"step":{"background":true,"line":55,"prefix":"*","index":43,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212221"}},{"result":{"nanos":136212,"millis":0.136212,"status":"passed"},"step":{"background":true,"line":56,"prefix":"*","index":44,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212222"}},{"result":{"nanos":130392,"millis":0.130392,"status":"passed"},"step":{"background":true,"line":57,"prefix":"*","index":45,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212222][\"coupons\"][1].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212222"}},{"result":{"nanos":131232,"millis":0.131232,"status":"passed"},"step":{"background":true,"line":58,"prefix":"*","index":46,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][0].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":241898,"millis":0.241898,"status":"passed"},"step":{"background":true,"line":59,"prefix":"*","index":47,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][1].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":187773,"millis":0.187773,"status":"passed"},"step":{"background":true,"line":60,"prefix":"*","index":48,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212223][\"coupons\"][2].discount == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].discount_811143212223"}},{"result":{"nanos":138649,"millis":0.138649,"status":"passed"},"step":{"background":true,"line":62,"prefix":"*","index":49,"text":"assert result.response[\"skuCoupons\"][skuID_index_811143212221][\"price\"] == apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption_responseData__0036\"].price"}},{"result":{"nanos":156169,"millis":0.156169,"status":"passed"},"step":{"endLine":67,"background":true,"line":64,"prefix":"*","docString":"function(){ return java.lang.System.currentTimeMillis() }","index":50,"text":"def transactionID ="}},{"result":{"nanos":131357,"millis":0.131357,"status":"passed"},"step":{"background":true,"line":68,"prefix":"*","index":51,"text":"def transaction_id = callonce transactionID"}},{"result":{"nanos":54595,"millis":0.054595,"status":"passed"},"step":{"comments":["# redemption count","#  * def redeem_quantity_811143212221 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212221+ \"\\'))\")","#  * def redeem_quantity_811143212223 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212223+ \"\\'))\")","#  * def redeem_quantity_811143212222 = db.readRows(\"SELECT QUANTITY FROM B2B_COUPON_REDEMPTION WHERE B2B_COUPON_ID IN (SELECT ID FROM B2B_COUPON bbc WHERE SKU_ID IN (\\'\" +811143212222+ \"\\'))\")"],"line":103,"prefix":"*","index":0,"text":"header override_flag = redeem_flags"}},{"result":{"nanos":3455880,"millis":3.45588,"status":"passed"},"step":{"endLine":113,"line":104,"prefix":"*","docString":"{\n\"masId\": \"#(masid)\",\n\"billAmount\": #(apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption__0036\"].billAmount),\n\"transactionId\": \"#(transaction_id)\",\n\"couponCodes\":[#(couponCode1), #(couponCode2), #(couponCode3), #(couponCode4), #(couponCode5), #(couponCode6)],\n\"skuData\": #(apiComponents[\"B2B_FLAT_DISCOUNT_ON_SKU_coupon_redemption__0036\"].skuData)\n}","index":1,"text":"def body ="}},{"result":{"nanos":353671,"millis":0.353671,"status":"passed"},"step":{"line":115,"prefix":"Given","index":2,"text":"path '\/coupons\/v1\/coupons\/merchant\/fc\/checkout'"},"stepLog":"23:28:51.656 {\n  \"errorMessage\": null,\n  \"featureDir\": \"\/Users\/rahul8.ranjan\/Documents\/cms-api-integration-test\/src\/test\/java\/executables\/coupons\",\n  \"scenarioDescription\": \"\",\n  \"scenarioName\": \"B2B_FLAT_DISCOUNT_ON_SKU checkout Mark Redemption Flow __0036.\",\n  \"featureFileName\": \"0036__B2B_FLAT_DISCOUNT_ON_SKU_MarkRedemptionFlow.feature\"\n}\n \n"}],"executorName":"main","line":98,"name":"B2B_FLAT_DISCOUNT_ON_SKU checkout Mark Redemption Flow __0036.","description":"","durationMillis":13172.466452,"startTime":1643392718443,"failed":false,"refId":"[2:98]","endTime":1643392731656,"exampleIndex":-1}],"callDepth":0,"name":"B2B_FLAT_DISCOUNT_ON_SKU MarkRedemptionFlow __0036","description":"","resultDate":"2022-01-28 11:28:51 PM","durationMillis":51676.717572,"passedCount":1}